erDiagram
    USERS ||--o{ FOOD_SCANS : "has"
    FOOD_SCANS }o--|| FOODS : "matches"
    FOODS ||--|| FOOD_EMBEDDINGS : "has"

    USERS {
        bigint id PK
        string name
        string email
        string password
        timestamps
    }

    FOOD_SCANS {
        bigint id PK
        bigint user_id FK
        string image_path
        json   result
        json   nutrients
        float  predicted_glucose
        timestamps
    }

    FOODS {
        bigint id PK
        string food_code
        string food_name
        string common_name
        string serving_size
        decimal energy_kcal
        decimal protein_g
        decimal fat_g
        decimal carbohydrate_g
        decimal sugars_g
        decimal dietary_fiber_g
        decimal sodium_mg
        string product_weight
        timestamps
    }

    FOOD_EMBEDDINGS {
        bigint id PK
        bigint food_id FK
        smallint dimension
        longtext embedding
        timestamps
    }
